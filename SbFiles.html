<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <title>No title</title>

    <!-- Bootstrap -->
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta.2/css/bootstrap.min.css" integrity="sha384-PsH8R72JQ3SOdhVi3uxftmaW6Vc51MKb0q5P2rRUpPvrszuE4W1povHYgTpBfshb" crossorigin="anonymous">
	    
    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
		
  </head>
  <body>
	
	<div id="placeholder" class="container">
		
		<div class="row">
			<div class="col-3">
				<div class="card bg-light my-1 border border-info">
					<div class="card-header ">
						<span class="font-weight-bold">Фильтры </span>
						<span class="badge badge-secondary float-right mt-1" data-bind="text: concerts().length"></span>
					</div>
					<div class="card-body">				
					
						<div class="form-group">
							<label>Сортировка</label>
							<div class="btn-group w-100" role="group" >
							  <button type="button" class="btn w-50" data-bind="click:invertSort, css:{'btn-info':dateAscSort(), 'btn-outline-info':!dateAscSort()}">Прямая</button>
							  <button type="button" class="btn w-50" data-bind="click:invertSort, css:{'btn-info':!dateAscSort(), 'btn-outline-info':dateAscSort()}">Обратная</button>						
							</div>
						</div>
						
						
						<div class="form-group">
							<label>Название</label>
							<select class="form-control" data-bind="options: names, optionsCaption:'Все', value: selectedName"></select>
						</div>
				
						<div class="form-group">
							<label>Сцена</label>
							<select class="form-control" data-bind="options: stages, optionsCaption:'Все', value: selectedStage"></select>
						</div>
				
						<div class="form-group">
							<label>Участник</label>
							<select class="form-control" data-bind="options: actors, optionsCaption:'Все', value: selectedActor"></select>							  
						</div>
						
						<button class="btn w-100 mb-3" data-bind="click: invertPremieres, css:{'btn-info': premieres(), 'btn-outline-info':!premieres()}">Только премьеры</button>										
						<button class="btn w-100 mb-3" data-bind="click: invertTags, css:{'btn-info': hasTags(), 'btn-outline-info':!hasTags()}">Только с тегами</button>										
						<button class="btn w-100 mb-3" data-bind="click: invertLastUploads, css:{'btn-info': lastUploads(), 'btn-outline-info':!lastUploads()}">Последние загрузки</button>										
												
						<hr>
						<button class="btn btn-info w-100" data-bind="click: resetFilters">Сбросить фильтры</button>
						
					</div>
				</div>
				
				
				<div class="sticky-top">
					<a class="btn btn-light w-100" href="#placeholder">вернуться наверх</a>
				</div>
				
			</div>
			
			<div class="col-9">
				<!-- ko foreach: concerts -->
				<div class="card my-1 border border-info">
					<div class="card-body">										
						<h4 class="card-title"> <!--ko text: name--><!--/ko--> <small class="text-muted" data-bind="visible: $data.premiere">премьера</small></h4>				
						
						<div class="row">
							<div class="col" style="max-width: 112px;" data-bind="text: date">Date</div>
							<div class="col" data-bind="text: stage">Stage</div>
							<div class="col" data-bind="text: type">Type</div>
							<div class="col" data-bind="text: owner">Organizer</div>					
							<div class="col text-right">
								<a target="_blank" class="btn btn-outline-info" role="button" data-bind="attr: {href: videoLink.url}">Видео</a>	
							</div>
						</div>
						
						<!-- ko if: $data.members -->
						<hr>
						<div class="row">
							<div class="col" style="max-width: 110px;">Участники</div>
							<div class="col">
								<!-- ko foreach: members -->
									<!-- ko ifnot: $data.role -->
									<small class="pr-3" data-bind="text: actor"></small>													
									<!-- /ko -->
									<!-- ko if: $data.role -->
									<small data-bind="text: actor"></small>
									<small>-</small>
									<small class="pr-3" data-bind="text: role"></small>									
									<!-- /ko -->
								<!-- /ko -->
							</div>					
						</div>
						<!-- /ko -->
						
						<!-- ko if: $data.compositions -->
						<hr>
						<div class="row">
							<div class="col" style="max-width: 110px;">Номера</div>					
							<div class="col">
								<!-- ko foreach: compositions -->
								<small class="pr-3" data-bind="text: $data"></small>
								<!-- /ko -->
							</div>			
						</div>				
						<!-- /ko -->
						
						<!-- ko if: $data.tags -->
						<hr>
						<div class="row">
							<div class="col" style="max-width: 110px;">Разное</div>					
							<div class="col">
								<!-- ko foreach: tags -->
								<small class="pr-3" data-bind="text: $data"></small>
								<!-- /ko -->
							</div>			
						</div>				
						<!-- /ko -->
						
					</div> 		
				</div>
				
				<!-- /ko -->
			
				<div class="jumbotron">
					
					<h2 class="list-group-item-heading">Размещение файлов</h2>
					<p class="list-group-item-text">
					Файлы хранятся в облаке <a href="https://mega.nz/" target="_blank">Mega</a>, бывший MegaUpload.com. 
					При желании можно там зарегистрироваться и использовать для собственных нужд. Для скачивания регистрация не обязательна.
					</p>
					<p>Для ускорения загрузки файлов можно установить расширения для браузеров</p>
					<ul>
						<li><a href="https://chrome.google.com/webstore/detail/mega/bigefpfhnfcobdlfbedofhhaibnlghod" target="_blank">Расширение Mega для Chrome</a></li>
						<li><a href="https://mega.nz/meganz.xpi" target="_blank">Расширение Mega для FireFox</a></li>
					</ul>
					<hr>			
					
					<h2 class="list-group-item-heading">Воспроизведение видео</h2>
					<p class="list-group-item-text">
						Видео оптимизировано для проигрывания на компьютере и закодировано кодаком x264 в Matroska. 
						Если у вас не воспроизводится видео, необходимо обновить набор видео-кодаков. 
					</p>
					<p class="list-group-item-text">
						На текущий момент наиболее полный набор видео кодаков <a href="http://codecguide.com/download_kl.htm" target="_blank">K-Lite Codec Pack</a>. 
						Так же в этом наборе есть очень неплохой видео проигрыватель.
					</p>
					<hr>
					
					<h2 class="list-group-item-heading">Статус страницы</h2>
					<p class="list-group-item-text">
						На текущий момент данный сервис находится в тестовом режиме. Пожелания и предложения можно писать <a href="mailto:ezhi.mail@gmail.com">сюда</a>.
					</p>
				
				</div>
			</div>
		</div>
	
		
	
		
	</div>
	

	<!--
    <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.3/umd/popper.min.js" integrity="sha384-vFJXuSJphROIrBnz7yo7oB41mKfc8JzQZiCq4NCceLEaO4IHwicKwpJf9c9IpFgh" crossorigin="anonymous"></script>
	<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta.2/js/bootstrap.min.js" integrity="sha384-alpBpkh1PFOepccYVYDB4do5UnbKysX5WZXm3XxPqe5iKTfUKjNkCk9SaVuEZflJ" crossorigin="anonymous"></script>
	-->
	
	<script src="knockout-3.4.2.js"></script/>
	<script src="knockout.mapping.js"></script>	
	<script src="data.js"></script>
	<script src="ViewModel.js"></script>
	<script src="main.js"></script>
  </body>
</html>
